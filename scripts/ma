#!/bin/bash
# å¤š Agent åä½œç³»ç»Ÿ - å¿«æ·å‘½ä»¤
# ç”¨æ³•: ma <command> [args]

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PYTHON_SCRIPT="$SCRIPT_DIR/multi_agent.py"

case "$1" in
    "ultra"|"ultrawork")
        # Ultrawork æ¨¡å¼: ma ultra "ä»»åŠ¡æè¿°" [ä»£ç†1,ä»£ç†2,...]
        shift
        python3 "$PYTHON_SCRIPT" ultrawork "$@"
        ;;
    
    "ralph")
        # Ralph Loop æ¨¡å¼: ma ralph "ä»»åŠ¡æè¿°" [ä»£ç†]
        shift
        python3 "$PYTHON_SCRIPT" ralph "$@"
        ;;
    
    "status"|"st")
        # æŸ¥çœ‹çŠ¶æ€: ma status [ä»»åŠ¡ID]
        shift
        python3 "$PYTHON_SCRIPT" status "$@"
        ;;
    
    "agents"|"list")
        # åˆ—å‡ºæ‰€æœ‰ä»£ç†
        echo "ğŸ¤– å¯ç”¨ä»£ç†:"
        echo "  xiage       - è™¾å“¥ (æ€»æŒ‡æŒ¥)"
        echo "  gongzhonghao - å…¬ä¼—å·åŠ©æ‰‹ (å†…å®¹å®˜)"
        echo "  kaifa       - å¼€å‘åŠ©æ‰‹ (æŠ€æœ¯å®˜)"
        echo "  shiyun      - å§‹è¿åŠ©æ‰‹ (åˆ†æå¸ˆ)"
        echo "  qita        - å®éªŒå‘˜ (é€šç”¨)"
        ;;
    
    "demo"|"test")
        # è¿è¡Œæ¼”ç¤º
        echo "ğŸ¬ å¤š Agent åä½œç³»ç»Ÿæ¼”ç¤º"
        echo ""
        echo "1ï¸âƒ£  Ultrawork æ¨¡å¼ç¤ºä¾‹:"
        echo "   ma ultra 'éƒ¨ç½²å‡¡äººä¿®ä»™å¹¶å†™å…¬ä¼—å·æ–‡ç« ' kaifa,gongzhonghao"
        echo ""
        echo "2ï¸âƒ£  Ralph Loop æ¨¡å¼ç¤ºä¾‹:"
        echo "   ma ralph 'ä¿®å¤ç™»å½•bug' kaifa"
        echo ""
        echo "3ï¸âƒ£  æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€:"
        echo "   ma status"
        ;;
    
    *)
        echo "ğŸ¤– å¤š Agent åä½œç³»ç»Ÿ (Multi-Agent)"
        echo ""
        echo "ç”¨æ³•:"
        echo "  ma ultra 'ä»»åŠ¡æè¿°' [ä»£ç†åˆ—è¡¨]     # Ultrawork å¹¶è¡Œæ¨¡å¼"
        echo "  ma ralph 'ä»»åŠ¡æè¿°' [ä»£ç†]          # Ralph Loop æ­»ç£•æ¨¡å¼"
        echo "  ma status [ä»»åŠ¡ID]                  # æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€"
        echo "  ma agents                           # åˆ—å‡ºå¯ç”¨ä»£ç†"
        echo "  ma demo                             # æŸ¥çœ‹ç¤ºä¾‹"
        echo ""
        echo "ç¤ºä¾‹:"
        echo "  ma ultra 'ä»Šå¤©çš„å·¥ä½œæ€»ç»“' xiage,shiyun"
        echo "  ma ralph 'ä¿®å¤åç«¯bug' kaifa"
        echo "  ma status"
        ;;
esac
